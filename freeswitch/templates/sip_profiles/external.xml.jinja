{%- from "freeswitch/map.jinja" import freeswitch with context -%}
<!-- This file is managed by Salt 
    !! DO NOT EDIT !! -->
<profile name="external">
  <gateways>
    <X-PRE-PROCESS cmd="include" data="external/*.xml"/>
  </gateways>

  <domains>
    {%- for domain in freeswitch.sip_profiles.external.get('domains', []) %}
    <domain name="{{ domain.name }}" alias="{{ domain.alias }}" parse="{{ domain.parse }}"/>
    {%- endfor %}
  </domains>

  <settings>
    {%- for param in freeswitch.sip_profiles.external.get('settings', []) %}
    <param name="{{ param.name }}" value="{{ param.value }}"/>
    {%- endfor %}
  </settings>
</profile>
